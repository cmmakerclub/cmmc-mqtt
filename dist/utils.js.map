{"version":3,"sources":["utils.js"],"names":["moment","require","winston","chalk","logger","Logger","level","LOG_LEVEL","transports","Console","timestamp","tz","format","formatter","options","toUpperCase","message","white","bold"],"mappings":";;;;;;;AAAA;;;;;;AAEA,IAAMA,SAASC,QAAQ,iBAAR,CAAf;AACA,IAAMC,UAAUD,QAAQ,SAAR,CAAhB;AACA,IAAME,QAAQF,QAAQ,OAAR,CAAd;;AAEO,IAAMG,0BAAS,IAAKF,QAAQG,MAAb,CAAqB;AACzCC,SAAO,eAAOC,SAD2B;AAEzCC,cAAY,CACV,IAAKN,QAAQM,UAAR,CAAmBC,OAAxB,CAAiC;AAC/BC,eAAW;AAAA,aAAMV,SAASW,EAAT,CAAY,cAAZ,EAA4BC,MAA5B,CAAmC,qBAAnC,CAAN;AAAA,KADoB;AAE/BC,eAAW,mBAACC,OAAD,EAAa;AACtB,UAAIJ,YAAYI,QAAQJ,SAAR,EAAhB;AACA,UAAIJ,QAAQQ,QAAQR,KAAR,CAAcS,WAAd,EAAZ;AACA,UAAIC,UAAWF,QAAQE,OAAR,GAAkBF,QAAQE,OAA1B,GAAoC,EAAnD;AACA;AACA,mBAAWb,MAAMc,KAAN,CAAYP,SAAZ,CAAX,UAAsCP,MAAMe,IAAN,CAAWZ,KAAX,CAAtC,SAA2DU,OAA3D;AACD;AAR8B,GAAjC,CADU;AAF6B,CAArB,CAAf","file":"utils.js","sourcesContent":["import CONFIG from './conf'\n\nconst moment = require('moment-timezone')\nconst winston = require('winston')\nconst chalk = require('chalk')\n\nexport const logger = new (winston.Logger)({\n  level: CONFIG.LOG_LEVEL,\n  transports: [\n    new (winston.transports.Console)({\n      timestamp: () => moment().tz('Asia/Bangkok').format('YYYY-MM-DD HH:mm:ss'),\n      formatter: (options) => {\n        let timestamp = options.timestamp()\n        let level = options.level.toUpperCase()\n        let message = (options.message ? options.message : '')\n        // let meta = options.meta && Object.keys(options.meta).length ? '\\n\\t' + JSON.stringify(options.meta) : ''\n        return `[${chalk.white(timestamp)}] ${chalk.bold(level)} ${message}`\n      }\n    })\n  ]\n})\n"],"sourceRoot":"/Users/nat/projects/traffy/master-slave-v2/easy-mqtt/dist"}
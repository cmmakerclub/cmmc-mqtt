{"version":3,"sources":["utils.js"],"names":["moment","require","winston","chalk","console","log","process","env","LOG_LEVEL","logger","Logger","level","transports","Console","timestamp","tz","format","formatter","options","toUpperCase","message","white","bold"],"mappings":";;;;;AAAA,IAAMA,SAASC,QAAQ,iBAAR,CAAf;AACA,IAAMC,UAAUD,QAAQ,SAAR,CAAhB;AACA,IAAME,QAAQF,QAAQ,OAAR,CAAd;;AAEAG,QAAQC,GAAR,kBAA2BC,QAAQC,GAAR,CAAYC,SAAvC;AACO,IAAMC,0BAAS,IAAKP,QAAQQ,MAAb,CAAqB;AACzCC,SAAOL,QAAQC,GAAR,CAAYC,SAAZ,IAAyB,MADS;AAEzCI,cAAY,CACV,IAAKV,QAAQU,UAAR,CAAmBC,OAAxB,CAAiC;AAC/BC,eAAW;AAAA,aAAMd,SAASe,EAAT,CAAY,cAAZ,EAA4BC,MAA5B,CAAmC,qBAAnC,CAAN;AAAA,KADoB;AAE/BC,eAAW,mBAACC,OAAD,EAAa;AACtB,UAAIJ,YAAYI,QAAQJ,SAAR,EAAhB;AACA,UAAIH,QAAQO,QAAQP,KAAR,CAAcQ,WAAd,EAAZ;AACA,UAAIC,UAAWF,QAAQE,OAAR,GAAkBF,QAAQE,OAA1B,GAAoC,EAAnD;AACA;AACA,mBAAWjB,MAAMkB,KAAN,CAAYP,SAAZ,CAAX,UAAsCX,MAAMmB,IAAN,CAAWX,KAAX,CAAtC,SAA2DS,OAA3D;AACD;AAR8B,GAAjC,CADU;AAF6B,CAArB,CAAf","file":"utils.js","sourcesContent":["const moment = require('moment-timezone')\nconst winston = require('winston')\nconst chalk = require('chalk')\n\nconsole.log(`LOG_LEVEL = ${process.env.LOG_LEVEL}`)\nexport const logger = new (winston.Logger)({\n  level: process.env.LOG_LEVEL || 'info',\n  transports: [\n    new (winston.transports.Console)({\n      timestamp: () => moment().tz('Asia/Bangkok').format('YYYY-MM-DD HH:mm:ss'),\n      formatter: (options) => {\n        let timestamp = options.timestamp()\n        let level = options.level.toUpperCase()\n        let message = (options.message ? options.message : '')\n        // let meta = options.meta && Object.keys(options.meta).length ? '\\n\\t' + JSON.stringify(options.meta) : ''\n        return `[${chalk.white(timestamp)}] ${chalk.bold(level)} ${message}`\n      }\n    })\n  ]\n})\n"],"sourceRoot":"/Users/nat/projects/traffy/easy-mqtt/dist"}